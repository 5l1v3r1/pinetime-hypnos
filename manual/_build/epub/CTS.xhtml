<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>Current Time Service</title>
    <link rel="stylesheet" href="_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="current-time-service">
<span id="cts"></span><h1>Current Time Service</h1>
<div class="section" id="overview">
<h2>Overview</h2>
<p>The bluetooth peripheral sample has a cts server in place.
By installing this sample on a bluetoothboard, one can simulate the CTS.</p>
<p>Another option is to use a smartphone or computer to connect and bond to your Pinetime.
As soon as a device is bonded, Pinetime will look for a CTS server (Current Time Service) on the connected device.</p>
<p>Here is how to do it with an Android smartphone running NRFConnect:
Build and program the firmware on the Pinetime
Install NRFConnect (<a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRF-Connect-for-desktop">https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRF-Connect-for-desktop</a>)
Start NRFConnect and create a CTS server :
Tap the hamburger button on the top left and select “Configure GATT server”
Tap “Add service” on the bottom
Select server configuration “Current Time Service” and tap OK
Go back to the main screen and scan for BLE devices. A device called “PineTime” should appear
Tap the button “Connect” next to the PineTime device. It should connect to the PineTime and switch to a new tab.
On this tab, on the top right, there is a 3 dots button. Tap on it and select Bond. The bonding process begins, and if it is sucessful, the PineTime should update its time and display it on the screen.</p>
</div>
<div class="section" id="requirements">
<h2>Requirements</h2>
</div>
<div class="section" id="building-and-running">
<h2>Building and Running</h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">west build -p -b pinetime samples/bluetooth/peripheral-cts</span>
</pre></div>
</div>
</div>
<div class="section" id="todo">
<h2>Todo</h2>
<blockquote>
<div><ul class="simple">
<li><p>make it work</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="references">
<h2>References</h2>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>